$dot-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cg class='nc-icon-wrapper' fill='%23ffffff'%3E%3Ccircle cx='8' cy='8' r='8' fill='%23ffffff'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E") !default;

@mixin radioSize($font-size, $line-height, $dot-size, $bg-size) {
  font-size: rem($font-size);
  line-height: rem($line-height);

  &:before {
    width: rem($dot-size);
    height: rem($dot-size);
    top: calc(($line-height - $dot-size) / 2);
    background-size: $bg-size;
  }
}

.ebs-radio {
  font-family: $font-family;
  font-weight: $radio-font-weight;
  color: $text-color;

  &__input {
    position: absolute;
    height: 0;
    width: 0;
    margin: 0;
    padding: 0;
  }

  &__label {
    display: inline-flex;
    align-items: flex-start;
    user-select: none;
    cursor: pointer;
    position: relative;
    width: 100%;

    // Sizes
    &--medium {
      @include radioSize($font-size-base, 24px, $radio-dot-size, 6px);
    }

    &--large {
      @include radioSize($font-size-base, 24px, $radio-dot-size-lg, 8px);
    }

    &--small {
      @include radioSize(12px, 16px, $radio-dot-size-sm, 4px);
    }

    // Radio placements
    &--radio-align {
      &-left::before {
        margin-right: rem($radio-spacing);
      }

      &-right {
        flex-direction: row-reverse;
        justify-content: space-between;

        &::before {
          margin-left: rem($radio-spacing);
        }
      }
    }

    // Dot
    &::before {
      content: '';
      display: inline-block;
      position: relative;
      flex-shrink: 0;
      border-width: 1px;
      border-color: $grey-400;
      border-style: solid;
      border-radius: 50%;
      background-color: $white;
      background-repeat: no-repeat;
      background-position: center;
      transition: $transition-time;
    }

    &[data-checked='false'] {
      &:hover::before {
        border-color: $grey-500;
        background-color: $grey-100;
      }

      &:active::before {
        border-color: $grey-600;
        background-color: $grey-200;
        transform: scale(0.8);
      }

      &[data-error] {
        &:hover,
        &:active {
          &::before {
            border-color: $danger-500;
          }
        }
      }
    }

    &[data-checked='true'] {
      &::before {
        background-color: var(--primary-color);
        border-color: var(--primary-color);
        background-image: $dot-image;
        box-shadow: none;
      }

      &:hover::before {
        background-color: var(--primary-600);
        border-color: var(--primary-600);
      }

      &:active::before {
        background-color: var(--primary-700);
        border-color: var(--primary-700);
      }

      &[data-error] {
        pointer-events: none;

        &::before {
          border-color: $danger-500;
        }
      }
    }

    &[data-focused]::before {
      box-shadow: 0 0 0 4px var(--primary-100);
    }

    &[data-error]:not([data-disabled])::before {
      box-shadow: 0 0 0 1px $danger-500;
      border-color: $danger-500;
    }

    &[data-disabled] {
      pointer-events: none;
      color: $grey-500;

      &::before {
        border-color: $grey-500;
        background-color: $grey-100;
      }

      &[data-checked='true'] {
        &::before {
          background-color: $grey-500;
          border-color: $grey-500;
        }
      }
    }
  }
}
